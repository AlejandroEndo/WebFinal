<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Story Maker - Wall</title>
    <meta name="description" content="Create and rewrite your friends stories in this colaborative network for writers and drawers">
    <meta name="keywords" content="Story, Create, Social, Make, Write">
    <link rel="stylesheet" href="static/css/main.css" type="text/css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script src="angular.js"></script>
</head>

<body>
    <div class="main-container">
        <!-- All the Wall Content -->
        <div class="wall">
            <!-- Header -->
            <div class="header">
                <div class="header-content">
                    <div class="user">
                        <div class="user-image"><img src="static/images/user-face.png"></div>
                        <h2>UserName</h2>
                    </div>
                    <div class="nav icon">
                        <a href="javascript:;">f</a>
                        <a href="javascript:;">s</a>
                        <a href="javascript:;" id="add-button">n</a>
                        <a href="javascript:;">a</a>
                        <a href="javascript:;" id="add-cat">c</a>
                    </div>
                </div>
            </div>
            <!-- Left Menu -->
            <div class="left-menu">
                <!-- Start The My-Story List -->
                <div class="my-stories">
                    <div class="title">
                        <h2>My Stories</h2>
                        <a href="javascript:;" id="add-story" class="icon">n</a>
                    </div>
                    <div class="story-list">
                        <!-- REPEAT LIST - Se repite cada "story para cargar la lista" -->
                        <div class="story">
                            <span class="icon">f</span>
                            <p>Story 1</p>
                        </div>
                        <!-- End Story Repeat -->
                    </div>
                </div>
                <!-- Start The CO-Story List -->
                <div class="co-stories">
                    <div class="title">
                        <h2>Co-Stories</h2>
                        <span class="icon">f</span>
                    </div>
                    <div class="story-list">
                        <!-- REPEAT LIST - Se repite cada "story para cargar la lista" -->
                        <div class="story">
                            <span class="icon">f</span>
                            <p>Story 1</p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Main Wall Feed Container -->
            <div class="content-box">
                <!-- Inner Wall Container -->
                <div class="inner-wall">
                    <!-- Repeat for Each Feed -->
                    <div class="feed">
                        <!-- Image Box containing the storyboard image and some menu options -->
                        <div class="image-box">
                            <div class="nav">
                                <a href="javascript:;" class="icon">l</a>
                                <a href="javascript:;" class="icon">d</a>
                            </div>
                            <div class="main-image"><img src="static/images/dummie.png"></div>
                        </div>
                        <!-- Information of the owner Showing Pic - Name - and the description -->
                        <div class="info">
                            <div class="owner">
                                <img src="static/images/user-face.png">
                                <h2>Owner Name</h2>
                            </div>
                            <div class="description">
                                <p>Lorem Ipsum y esas cosas aburridoras bla bla bla
                                    <p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- MODALES -->
    <!-- Agregar post a una historia -->
    <div class="popup animable" id="new-segment">
        <h2>Create New Post</h2>
        <input type="file" id="postPic" name="photo" placeholder="picture" class="inputfile">
        <label for="postPic"><span class="icon">u</span>Post Image</label>
        <textarea id="postContent"></textarea>
        <a href="javascript:;" class="button" id="segment-button">Make Post</a>
    </div>

        <div class="popup animable" id="new-story">
        <h2>Create New Story</h2>
        <input type="file" id="postPicNew" name="photo" placeholder="picture" class="inputfile">
        <label for="postPicNew"><span class="icon">u</span>Story Image</label>
        <input type="text" id="postCatNew" placeholder="Category">
        <textarea id="postContentNew"></textarea>
        <a href="javascript:;" class="button" id="story-button">Publish Story</a>
    </div>

        <div class="popup animable" id="new-category">
        <h2>Create New Category</h2>
        <input type="file" id="postPicCat" name="photo" placeholder="picture" class="inputfile">
        <label for="postPicCat"><span class="icon">u</span>Category Image</label>
        <input type="text" id="newCat" placeholder="Category">
        <a href="javascript:;" class="button" id="cat-button">Create Category</a>
    </div>

    <!-- Agregar historia nueva -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js">
    </script>
    <script src="./static/js/main.js"></script>
    <script>
    //SCRIPT PARA LA COMUNICACION CON EL SERVIDOR

    $(document).ready(function() {

        /*

        +++++++++++++++ NUEVO POST en la HISTORIA +++++++++++++++++++++++++++++++
            Este envia la imagen y los comentarios al servidor para crear el feed (la imagen central
            de cada feed) y el texto que esta abajo de la informacion de autor.
            Reemplazar la direccion que esta en el $.post("estaaaaaaaa!!!") por la que reciba los datos
            en el servidor, las variables son postPic y postContent
        */

        $("#segment-button").click(function() {
            console.log('Sending Register Data');
            postPic = $("#postPic").val();
            postContent = $("#postContent").val();
            $.post("/wall/new_post", {
                postPic: postPic,
                postContent: postContent
            });

            console.log('Post Content: ' + postContent);
        });

        /*****
        NUEVA HISTORIA
        *****/


        $("#story-button").click(function() {
            console.log('Sending Register Data');
            postPicNew = $("#postPicNew").val();
            postCatNew = $("#postCatNew").val();
            postContentNew = $("#postContentNew").val();

            //--------------------------> Cambiar URL Post
            $.post("/wall/new_post", {
                postPicNew: postPicNew,
                postContentNew: postContentNew,
                postCatNew:postCatNew
            });
        });


        /********
        NUEVA CATEGORIA
        *********/

                $("#cat-button").click(function() {
            console.log('Sending Register Data');
            postPicCat = $("#postPicCat").val();
            newCat = $("#newCat").val();
           //----------------> Cambiar URL POST
            $.post("/wall/new_post", {
                postPicCat: postPicCat,
                newCat: newCat
            });
        });

        //End Document.ready()
    });
    </script>
</body>

</html>
